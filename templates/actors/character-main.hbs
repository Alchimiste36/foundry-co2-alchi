{{!-- Character Main Tab Template --}}
{{!log "Chroniques Oubliées | Character main" this}}
<section class="tab standard-form main{{#if tabs.main.active}} active{{/if}}" data-group="primary" data-tab="main">
    <div class="section-container actions">
        <div class="section-header">
            <h4>{{localize "CO.ui.actions"}}</h4>

            <!-- BOUTONS POUR TRIER LES ACTIONS -->
            <div class="actions-sortbar">
                <button type="button" data-action="sortActions" data-tooltip="{{localize 'CO.sortActions.sortTime'}}" data-tooltip-direction="UP" data-sort-key="time" {{#if (eq sortState.key "time")}}class="{{sortState.dir}}"{{/if}}>
                    Durée
                    {{#if (and (eq sortState.key "time") (eq sortState.dir "asc"))}}<i class="fa-solid fa-arrow-up-wide-short"></i>{{/if}}
                    {{#if (and (eq sortState.key "time") (eq sortState.dir "desc"))}}<i class="fa-solid fa-arrow-down-short-wide"></i>{{/if}}
                </button>

                <button type="button" data-action="sortActions" data-tooltip="{{localize 'CO.sortActions.sortType'}}" data-tooltip-direction="UP" data-sort-key="type" {{#if (eq sortState.key "type")}}class="{{sortState.dir}}"{{/if}}>
                    Type
                    {{#if (and (eq sortState.key "type") (eq sortState.dir "asc"))}}<i class="fa-solid fa-arrow-up-wide-short"></i>{{/if}}
                    {{#if (and (eq sortState.key "type") (eq sortState.dir "desc"))}}<i class="fa-solid fa-arrow-down-short-wide"></i>{{/if}}
                </button>

                <button type="button" data-action="sortActions" data-tooltip="{{localize 'CO.sortActions.sortName'}}" data-tooltip-direction="UP" data-sort-key="name" {{#if (eq sortState.key "name")}}class="{{sortState.dir}}"{{/if}}>
                    Nom
                    {{#if (and (eq sortState.key "name") (eq sortState.dir "asc"))}}<i class="fa-solid fa-arrow-down-a-z"></i>{{/if}}
                    {{#if (and (eq sortState.key "name") (eq sortState.dir "desc"))}}<i class="fa-solid fa-arrow-up-z-a"></i>{{/if}}
                </button>

                <button type="button" data-action="sortActions" data-tooltip="{{localize 'CO.sortActions.sortNone'}}" data-tooltip-direction="UP" data-sort-key="none" {{#if (eq sortState.key "none")}}class="none"{{/if}}>
                    <i class="fa-solid fa-filter-slash"></i>
                </button>
            </div>
            
            <div class="actions-controls controls">
                <div class="sheet-controls">
                    <button type="button" class="btn-mini-sheet" data-action="openMiniSheet" title="Vue actions rapide">
                        <i class="fa-solid fa-star"></i>
                    </button>
                </div>
                <a class="item-control">                
                    <i class="fa-solid fa-mug-saucer" data-action="useRecovery" data-option="fastRest" data-tooltip="{{localize 'CO.ui.fastRest'}}" data-tooltip-direction="UP"></i>
                </a>
                <a class="item-control">
                    <i class="fa-solid fa-bed" data-action="useRecovery" data-option="fullRest" data-tooltip="{{localize 'CO.ui.fullRest'}}" data-tooltip-direction="UP"></i>
                </a>
                <a class="item-control"
                    data-tooltip-direction="UP" 
                    data-tooltip="{{#if partialDef}}{{localize 'CO.customStatus.partialDefDeactivate'}}{{else}}{{localize 'CO.customStatus.partialDefActivate'}}{{/if}}" 
                    data-action="{{#if partialDef}}deactivateDef{{else}}activateDef{{/if}}" 
                    data-effect="partialDef">
                        <i class="fa-solid fa-shield-halved {{#if partialDef}}enabled{{else}}disabled{{/if}} toggle-effect"></i>
                </a>
                <a class="item-control"
                    data-tooltip-direction="UP" 
                    data-tooltip="{{#if fullDef}}{{localize 'CO.customStatus.fullDefDeactivate'}}{{else}}{{localize 'CO.customStatus.fullDefActivate'}}{{/if}}" 
                    data-action="{{#if fullDef}}deactivateDef{{else}}activateDef{{/if}}"
                    data-effect="fullDef">
                        <i class="fa-solid fa-shield {{#if fullDef}}enabled{{else}}disabled{{/if}} toggle-effect"></i>
                </a>
            </div>
        </div>
        <!-- ACTIONS -->
        {{> "systems/co/templates/actors/shared/actions.hbs" this}}
    </div>
</section>
